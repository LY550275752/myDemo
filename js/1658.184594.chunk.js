"use strict";(self.webpackChunkclink_web=self.webpackChunkclink_web||[]).push([[1658],{93109:(e,l,t)=>{t.r(l),t.d(l,{default:()=>d});var a=t(89810),o=t(45958);const n={class:"drawer-select"},r={key:0},u={class:"drawer-select-content"},c=["onClick"],i=(0,a.defineComponent)({__name:"index",props:{title:null,data:null,modelValue:null,labelProps:{default:"label"},objectValue:{type:Boolean},valueKey:{default:"id"},mutiple:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(e,{emit:l}){const t=e,i=(0,a.computed)((()=>t.modelValue?t.modelValue.id?t.modelValue.id:t.modelValue:null)),d=(0,a.computed)((()=>{if(t.mutiple&&t.modelValue instanceof Array&&0!==t.modelValue.length)return t.data.filter((e=>-1!==t.modelValue.indexOf(e[t.valueKey]))).map((e=>e[t.labelProps]||e[t.valueKey])).join(",");if(!t.mutiple&&t.modelValue){if(t.modelValue[t.labelProps])return t.modelValue[t.labelProps];let e=t.modelValue[t.valueKey]||t.modelValue,l=t.data.find((l=>l[t.valueKey]===e||l===e))||{};return l[t.labelProps]||l||""}return t.title||""})),s=(0,a.ref)(!1),m=(0,a.ref)();return(p,f)=>{const k=(0,a.resolveComponent)("el-icon"),v=(0,a.resolveComponent)("el-drawer");return(0,a.openBlock)(),(0,a.createElementBlock)("div",n,[(0,a.createElementVNode)("div",{class:(0,a.normalizeClass)(["drawer-select-input",{"input-value":(0,a.unref)(i),placeholder:!(0,a.unref)(i)}]),onClick:f[0]||(f[0]=e=>s.value=!0)},[(0,a.createElementVNode)("span",null,(0,a.toDisplayString)((0,a.unref)(d)),1),(0,a.createVNode)(k,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)((0,a.unref)(o.Z))])),_:1})],2),(0,a.createVNode)(v,{modelValue:s.value,"onUpdate:modelValue":f[1]||(f[1]=e=>s.value=e),direction:"btt",size:"180","show-close":!1,"with-header":!1,ref_key:"elDrawerRef",ref:m},{default:(0,a.withCtx)((()=>[e.title?((0,a.openBlock)(),(0,a.createElementBlock)("h5",r,(0,a.toDisplayString)(e.title)+":",1)):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("ul",u,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)(e.data,((e,o)=>{return(0,a.openBlock)(),(0,a.createElementBlock)("li",{class:(0,a.normalizeClass)(["drawer-select-item",{active:(n=e,t.mutiple&&t.modelValue instanceof Array?-1!==t.modelValue.indexOf(n[t.valueKey]):t.objectValue&&t.modelValue?t.modelValue[t.valueKey]===n[t.valueKey]:t.modelValue===n)}]),key:o,onClick:o=>function(e){let o;if(t.mutiple&&t.modelValue instanceof Array){o=t.modelValue;const l=o.indexOf(e[t.valueKey]);-1===l?o.push(e[t.valueKey]):o.splice(l,1)}else o=t.objectValue?e:e[t.valueKey];l("update:modelValue",o),l("change",o),(0,a.unref)(m).handleClose()}(e)},(0,a.toDisplayString)(t.labelProps&&e[t.labelProps]?e[t.labelProps]:e[t.valueKey]),11,c);var n})),128))])])),_:1},8,["modelValue"])])}}});const d=(0,t(57775).Z)(i,[["__scopeId","data-v-35064116"]])},81658:(e,l,t)=>{t.r(l),t.d(l,{default:()=>b});var a=t(89810),o=t(3048),n=t(73827),r=t(48402),u=t(29997),c=t(93109),i=t(5341),d=function(e,l,t,a){return new(t||(t=Promise))((function(o,n){function r(e){try{c(a.next(e))}catch(e){n(e)}}function u(e){try{c(a.throw(e))}catch(e){n(e)}}function c(e){var l;e.done?o(e.value):(l=e.value,l instanceof t?l:new t((function(e){e(l)}))).then(r,u)}c((a=a.apply(e,l||[])).next())}))};const s=e=>((0,a.pushScopeId)("data-v-48b055b2"),e=e(),(0,a.popScopeId)(),e),m={class:"setting"},p={key:0,class:"setting-loading"},f={class:"setting-item"},k=s((()=>(0,a.createElementVNode)("h3",{class:"setting-item-title"},"自动锁屏",-1))),v={key:0,class:"setting-item-label"},V={key:0,class:"setting-item-label"},y={class:"setting-item"},B=s((()=>(0,a.createElementVNode)("h3",{class:"setting-item-title"},"自动退出登录",-1))),h={key:0,class:"setting-item-label"},g={key:1,class:"setting-item-label"},C=(0,a.defineComponent)({__name:"seniorSetting",emits:["enter"],setup(e,{emit:l}){const t=(0,a.inject)("$dialogHelper"),s=r.nC.get(o.rA);var C=(0,a.ref)(0),b=(0,a.ref)(0),E=(0,a.ref)([]),w=(0,a.ref)([]),N=(0,a.ref)(!1);function _(e){return d(this,void 0,void 0,(function*(){const l=+e;try{var t={key:o.kL.LOCK,value:l+""};yield s.setRemoteConfig(t),u.k.info("设置自动锁屏设置值：",l/6e4+"分钟"),s.setLockTask(l),n.z8.success("设置自动锁屏成功")}catch(e){n.z8.error("设置自动锁屏失败")}}))}function K(e){return d(this,void 0,void 0,(function*(){const l=+e;try{var t={key:o.kL.LOGOUT,value:l+""};yield s.setRemoteConfig(t),u.k.info("设置自动退出设置值:",l/6e4),s.setLogoutTask(l),n.z8.success("设置自动退出成功")}catch(e){n.z8.error("设置自动退出失败")}}))}return(0,a.onMounted)((()=>{(0,a.nextTick)((()=>{t.config({title:"更多设置",onBack:()=>l("enter")})})),function(){d(this,void 0,void 0,(function*(){N.value=!0;try{var e=yield s.getRemoteConfig(o.kL.LOCK);C.value=e}catch(e){n.z8.error("查询自动锁屏失败")}try{e=yield s.getRemoteConfig(o.kL.LOGOUT);b.value=e}catch(e){n.z8.error("查询自动退出设置失败")}finally{N.value=!1}}))}(),E.value=o.r8,w.value=o.Ep})),(e,l)=>{const t=(0,a.resolveComponent)("Loading"),o=(0,a.resolveComponent)("el-icon"),n=(0,a.resolveComponent)("el-option"),r=(0,a.resolveComponent)("el-select");return(0,a.openBlock)(),(0,a.createElementBlock)("div",m,[(0,a.unref)(N)?((0,a.openBlock)(),(0,a.createElementBlock)("div",p,[(0,a.createVNode)(o,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(t)])),_:1}),(0,a.createTextVNode)(" 加载中 ")])):((0,a.openBlock)(),(0,a.createElementBlock)(a.Fragment,{key:1},[(0,a.createElementVNode)("div",f,[k,(0,a.unref)(i.tq)?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",v,"超过以下时间没有进行操作，则自动锁屏：")),(0,a.unref)(i.tq)?((0,a.openBlock)(),(0,a.createBlock)(c.default,{key:1,data:(0,a.unref)(E),title:"请选择自动锁屏时间",modelValue:(0,a.unref)(C),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,a.isRef)(C)?C.value=e:C=e),"value-key":"value",onChange:_},null,8,["data","modelValue"])):((0,a.openBlock)(),(0,a.createBlock)(r,{key:2,modelValue:(0,a.unref)(C),"onUpdate:modelValue":l[1]||(l[1]=e=>(0,a.isRef)(C)?C.value=e:C=e),"popper-append-to-body":!1,ref:"lockElapseTime",onChange:_,clearable:!1,placeholder:"请选择"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(E),(e=>((0,a.openBlock)(),(0,a.createBlock)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]))]),(0,a.unref)(i.tq)?((0,a.openBlock)(),(0,a.createElementBlock)("div",V,"超过以下时间没有进行操作，则自动锁屏：")):(0,a.createCommentVNode)("",!0),(0,a.createElementVNode)("div",y,[B,(0,a.unref)(i.tq)?(0,a.createCommentVNode)("",!0):((0,a.openBlock)(),(0,a.createElementBlock)("div",h,"超过以下时间没有进行操作，则自动退出已登录的账号：")),(0,a.unref)(i.tq)?((0,a.openBlock)(),(0,a.createBlock)(c.default,{key:1,data:(0,a.unref)(w),title:"请选择自动退出时间",modelValue:(0,a.unref)(b),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,a.isRef)(b)?b.value=e:b=e),"value-key":"value",onChange:K},null,8,["data","modelValue"])):((0,a.openBlock)(),(0,a.createBlock)(r,{key:2,modelValue:(0,a.unref)(b),"onUpdate:modelValue":l[3]||(l[3]=e=>(0,a.isRef)(b)?b.value=e:b=e),"popper-append-to-body":!1,ref:"lockElapseTime",onChange:K,clearable:!1,placeholder:"请选择"},{default:(0,a.withCtx)((()=>[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(w),(e=>((0,a.openBlock)(),(0,a.createBlock)(n,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]))]),(0,a.unref)(i.tq)?((0,a.openBlock)(),(0,a.createElementBlock)("div",g,"超过以下时间没有进行操作，则自动退出已登录的账号：")):(0,a.createCommentVNode)("",!0)],64))])}}});const b=(0,t(57775).Z)(C,[["__scopeId","data-v-48b055b2"]])}}]);