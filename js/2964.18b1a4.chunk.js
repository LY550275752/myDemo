"use strict";(self.webpackChunkclink_web=self.webpackChunkclink_web||[]).push([[2964,7712],{49264:(e,t,n)=>{function o(e,t="yyyy-MM-dd",n="--"){if(!e)return n;let o=new Date(e);if(e=e+60*o.getTimezoneOffset()*1e3- -288e5,o.setTime(e),"Invalid Date"===o.toString())return n;let l={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in l)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?l[e]:("00"+l[e]).substr((""+l[e]).length)));return t}n.d(t,{m:()=>o})},52964:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var o=n(89810),l=n(6522),c=n(48402),a=n(47712),i=n(55826),r=n(68475),s=function(e,t,n,o){return new(n||(n=Promise))((function(l,c){function a(e){try{r(o.next(e))}catch(e){c(e)}}function i(e){try{r(o.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}r((o=o.apply(e,t||[])).next())}))};const d={class:"about"},u={key:0},f={class:"about-header"},p={class:"about-header-info"},v={class:"about-content"},m=(0,o.defineComponent)({__name:"about",setup(e){const t=c.nC.get(l.Xb),n=(0,o.inject)("$dialogHelper"),m=t.getAppNameCN();t.getAppVersion(),t.getAppVersionCode();var g=(0,o.shallowRef)(null),k=(0,o.ref)(!1);const h={versionLog:a.default};function y(e){window.open("https://desk.ctyun.cn"+{userAgreement:"/html/agreement/",privacy:"/html/privacy/",helpBook:"/doc/help.html"}[e])}function b(){g.value=null,n.config({title:"关于",onBack:!1}),k.value=!1}return(0,o.onMounted)((()=>s(this,void 0,void 0,(function*(){(0,o.nextTick)((()=>s(this,void 0,void 0,(function*(){n.config({title:"关于",width:520})}))))})))),(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",d,[(0,o.createVNode)(r.Z,null,{default:(0,o.withCtx)((()=>[(0,o.unref)(k)?((0,o.openBlock)(),(0,o.createBlock)((0,o.resolveDynamicComponent)((0,o.unref)(g)),{key:0,onBack:b},null,32)):(0,o.createCommentVNode)("",!0)])),_:1}),(0,o.createVNode)(r.Z,null,{default:(0,o.withCtx)((()=>[(0,o.unref)(k)?(0,o.createCommentVNode)("",!0):((0,o.openBlock)(),(0,o.createElementBlock)("div",u,[(0,o.createElementVNode)("div",f,[(0,o.createElementVNode)("div",{class:"about-header-logo",style:(0,o.normalizeStyle)({backgroundImage:"url(static/icon_128x128@2x.png)"})},null,4),(0,o.createElementVNode)("div",p,[(0,o.createElementVNode)("span",null,(0,o.toDisplayString)((0,o.unref)(m)),1)])]),(0,o.createElementVNode)("div",v,[(0,o.createVNode)(i.Z,{label:"版本日志","click-event":()=>function(e="",t){g.value=h[e],null===g.value||void 0===g.value?(n.config({title:"关于",onBack:!1}),k.value=!1):k.value=!0}("versionLog")},null,8,["click-event"]),(0,o.createVNode)(i.Z,{label:"用户协议","click-event":()=>y("userAgreement")},null,8,["click-event"]),(0,o.createVNode)(i.Z,{label:"隐私政策","click-event":()=>y("privacy")},null,8,["click-event"])])]))])),_:1})]))}});const g=(0,n(57775).Z)(m,[["__scopeId","data-v-50e2ab3c"]])},47712:(e,t,n)=>{n.r(t),n.d(t,{default:()=>S});var o,l,c,a=n(89810),i=n(48402),r=n(6298),s=n(6522),d=n(88538),u=function(e,t,n,o){var l,c=arguments.length,a=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var i=e.length-1;i>=0;i--)(l=e[i])&&(a=(c<3?l(a):c>3?l(t,n,a):l(t,n))||a);return c>3&&a&&Object.defineProperty(t,n,a),a},f=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(e,t,n,o){return new(n||(n=Promise))((function(l,c){function a(e){try{r(o.next(e))}catch(e){c(e)}}function i(e){try{r(o.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}r((o=o.apply(e,t||[])).next())}))};let v=class{constructor(e,t,n){this.request=e,this.auth=t,this.env=n}getVersionLog(e){return p(this,void 0,void 0,(function*(){const t=this.auth.getAuthProfile();if(!t)throw new Error("帐号未登陆");return(yield this.request.api({method:"post",url:"api/cdserv/client/software/pageVersion",data:{osType:this.env.getOSType(),page:e.page,pageSize:e.size,tenantId:t.tenantId,softwareCode:this.env.getSoftwareCode()},headers:{"Content-Type":"application/x-www-form-urlencoded"}})).data}))}};v=u([(0,i.Xn)(),f("design:paramtypes",["function"==typeof(o=void 0!==d.cf&&d.cf)?o:Object,"function"==typeof(l=void 0!==r.g&&r.g)?l:Object,"function"==typeof(c=void 0!==s.Xb&&s.Xb)?c:Object])],v);var m=n(49264),g=function(e,t,n,o){return new(n||(n=Promise))((function(l,c){function a(e){try{r(o.next(e))}catch(e){c(e)}}function i(e){try{r(o.throw(e))}catch(e){c(e)}}function r(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,i)}r((o=o.apply(e,t||[])).next())}))};const k={class:"log"},h={key:0,class:"log-loading"},y=(b=()=>(0,a.createElementVNode)("p",null,"加载中",-1),(0,a.pushScopeId)("data-v-226f0586"),b=b(),(0,a.popScopeId)(),b);var b;const B={key:1,class:"log-content"},E={key:0,class:"log-content-empty"},w={key:1,class:"log-content-list"},V={class:"log-content-list-item-top"},N={class:"date"},C={class:"log-content-list-item-detail"},x={key:0,class:"log-content-list-loading"},_=(0,a.defineComponent)({__name:"versionLog",emits:["back"],setup(e,{emit:t}){const n=i.nC.get(v),o=(0,a.inject)("$dialogHelper");var l=!0,c=!1,r=1,s=(0,a.ref)(!0),d=(0,a.ref)(!1),u=(0,a.ref)([]);function f(){return g(this,void 0,void 0,(function*(){if(l&&!c)try{c=!0,d.value=!0;let e=yield n.getVersionLog({page:r,size:10});e.list&&(u.value=u.value.concat(e.list)),l=e.hasNextPage||!1,r++}catch(e){}finally{s.value=!1,d.value=!1,c=!1}}))}return(0,a.onMounted)((()=>{o.config({title:"日志",onBack:()=>{t("back")}}),f()})),(e,t)=>{const n=(0,a.resolveComponent)("Loading"),o=(0,a.resolveComponent)("el-icon"),l=(0,a.resolveComponent)("el-empty"),c=(0,a.resolveDirective)("infinite-scroll");return(0,a.openBlock)(),(0,a.createElementBlock)("div",k,[(0,a.unref)(s)?((0,a.openBlock)(),(0,a.createElementBlock)("div",h,[(0,a.createVNode)(o,{class:"is-loading"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n)])),_:1}),y])):((0,a.openBlock)(),(0,a.createElementBlock)("div",B,[0===(0,a.unref)(u).length?((0,a.openBlock)(),(0,a.createElementBlock)("div",E,[(0,a.createVNode)(l,{description:"暂无日志"})])):(0,a.withDirectives)(((0,a.openBlock)(),(0,a.createElementBlock)("ul",w,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(u),((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("li",{class:"log-content-list-item",key:t},[(0,a.createElementVNode)("p",V,[(0,a.createElementVNode)("span",N,(0,a.toDisplayString)((0,a.unref)(m.m)(e.publishDate)),1)]),(0,a.createElementVNode)("p",C,(0,a.toDisplayString)(e.content),1)])))),128)),(0,a.unref)(d)?((0,a.openBlock)(),(0,a.createElementBlock)("div",x,"加载中...")):(0,a.createCommentVNode)("",!0)])),[[c,f]])]))])}}});const S=(0,n(57775).Z)(_,[["__scopeId","data-v-226f0586"]])},55826:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(89810);const l={class:"dialog-item-main"},c={class:"item-content"},a={key:0,class:"iconfont icon-right"},i=(0,o.defineComponent)({__name:"dialogItem",props:{label:{type:String,default:""},disabled:{type:Boolean,default:!1},icon:{type:String,default:void 0},clickEvent:{type:Function,default:null},isLastItem:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=e,i=(0,o.computed)((()=>null!==n.clickEvent));function r(){!n.disabled&&n.clickEvent&&n.clickEvent()}return(t,n)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",{class:(0,o.normalizeClass)(["dialog-item skin-dialog-item panel",{disabled:e.disabled,default:!(0,o.unref)(i),"last-item":e.isLastItem}]),onClick:r},[(0,o.createElementVNode)("div",l,[(0,o.createElementVNode)("label",null,[e.icon?((0,o.openBlock)(),(0,o.createElementBlock)("i",{key:0,class:(0,o.normalizeClass)(["iconfont",`icon-${e.icon}`])},null,2)):(0,o.createCommentVNode)("",!0),(0,o.createTextVNode)((0,o.toDisplayString)(e.label),1)]),(0,o.createElementVNode)("div",c,[(0,o.renderSlot)(t.$slots,"default")]),(0,o.unref)(i)?((0,o.openBlock)(),(0,o.createElementBlock)("i",a)):(0,o.createCommentVNode)("",!0)])],2))}});const r=(0,n(57775).Z)(i,[["__scopeId","data-v-adaf8724"]])},68475:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(89810);const l={},c=(0,n(57775).Z)(l,[["render",function(e,t){return(0,o.openBlock)(),(0,o.createBlock)(o.Transition,{name:"fade"},{default:(0,o.withCtx)((()=>[(0,o.renderSlot)(e.$slots,"default",{},void 0,!0)])),_:3})}],["__scopeId","data-v-44304889"]])}}]);