(self.webpackChunkclink_web=self.webpackChunkclink_web||[]).push([[3341],{52704:(e,t,n)=>{"use strict";n.d(t,{L:()=>x});var o=n(28125),r=n(41638),a=n(52429),i=n(89810),l=n(50729),s=n(24577),c=n(24638),d=n(75566),u=n(64338),f=n(33745);var p=(0,l.do)("sticky"),m=(0,a.Z)(p,2),v=m[0],g=m[1],h={zIndex:s.Or,position:(0,s.SQ)("top"),container:Object,offsetTop:(0,s.SI)(0),offsetBottom:(0,s.SI)(0)},y=(0,i.defineComponent)({name:v,props:h,emits:["scroll","change"],setup:function(e,t){var n=t.emit,o=t.slots,a=(0,i.ref)(),l=(0,f.eo)(a),s=(0,i.reactive)({fixed:!1,width:0,height:0,transform:0}),p=(0,i.computed)((function(){return(0,c.LU)("top"===e.position?e.offsetTop:e.offsetBottom)})),m=(0,i.computed)((function(){var e=s.fixed,t=s.height,n=s.width;if(e)return{width:"".concat(n,"px"),height:"".concat(t,"px")}})),v=(0,i.computed)((function(){if(s.fixed){var t=(0,d.l7)((0,c.As)(e.zIndex),(0,r.Z)({width:"".concat(s.width,"px"),height:"".concat(s.height,"px")},e.position,"".concat(p.value,"px")));return s.transform&&(t.transform="translate3d(0, ".concat(s.transform,"px, 0)")),t}})),h=function(){if(a.value&&!(0,u.xj)(a)){var t=e.container,o=e.position,r=(0,f.EL)(a),i=(0,u.cx)(window);if(s.width=r.width,s.height=r.height,"top"===o)if(t){var l=(0,f.EL)(t),c=l.bottom-p.value-s.height;s.fixed=p.value>r.top&&l.bottom>0,s.transform=c<0?c:0}else s.fixed=p.value>r.top;else{var d=document.documentElement.clientHeight;if(t){var m=(0,f.EL)(t),v=d-m.top-p.value-s.height;s.fixed=d-p.value<r.bottom&&d>m.top,s.transform=v<0?-v:0}else s.fixed=d-p.value<r.bottom}!function(e){n("scroll",{scrollTop:e,isFixed:s.fixed})}(i)}};return(0,i.watch)((function(){return s.fixed}),(function(e){return n("change",e)})),(0,f.OR)("scroll",h,{target:l,passive:!0}),function(e,t){if(d._f&&window.IntersectionObserver){var n=new IntersectionObserver((function(e){t(e[0].intersectionRatio>0)}),{root:document.body}),o=function(){e.value&&n.unobserve(e.value)};(0,i.onDeactivated)(o),(0,i.onBeforeUnmount)(o),(0,f.Ib)((function(){e.value&&n.observe(e.value)}))}}(a,h),function(){var e;return(0,i.createVNode)("div",{ref:a,style:m.value},[(0,i.createVNode)("div",{class:g({fixed:s.fixed}),style:v.value},[null==(e=o.default)?void 0:e.call(o)])])}}}),x=(0,o.n)(y)},64566:(e,t,n)=>{"use strict";n.d(t,{F:()=>D});var o=n(89810),r=n(75566),a=n(43500),i=n(28125),l=n(40712),s=n(41638),c=n(52429),d=n(50729),u=n(24577),f=0;var p=n(48331),m=n(47383),v=n(16934),g=(0,d.do)("toast"),h=(0,c.Z)(g,2),y=h[0],x=h[1],k=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay"],w={icon:String,show:Boolean,type:(0,u.SQ)("text"),overlay:Boolean,message:u.Or,iconSize:u.Or,duration:(0,u.qM)(2e3),position:(0,u.SQ)("middle"),teleport:[String,Object],className:u.Vg,iconPrefix:String,transition:(0,u.SQ)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:u.Vg,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean},b=(0,o.defineComponent)({name:y,props:w,emits:["update:show"],setup:function(e,t){var n,i=t.emit,l=!1,c=function(){var t=e.show&&e.forbidClick;l!==t&&((l=t)?(f||document.body.classList.add("van-toast--unclickable"),f++):f&&(--f||document.body.classList.remove("van-toast--unclickable")))},d=function(e){return i("update:show",e)},u=function(){e.closeOnClick&&d(!1)},g=function(){return clearTimeout(n)},h=function(){var t=e.type,n=e.message;if((0,a.Xq)(n)&&""!==n)return"html"===t?(0,o.createVNode)("div",{key:0,class:x("text"),innerHTML:String(n)},null):(0,o.createVNode)("div",{class:x("text")},[n])};return(0,o.watch)((function(){return[e.show,e.forbidClick]}),c),(0,o.watch)((function(){return[e.show,e.type,e.message,e.duration]}),(function(){g(),e.show&&e.duration>0&&(n=setTimeout((function(){d(!1)}),e.duration))})),(0,o.onMounted)(c),(0,o.onUnmounted)(c),function(){return(0,o.createVNode)(m.G,(0,o.mergeProps)({class:[x([e.position,(0,s.Z)({},e.type,!e.icon)]),e.className],lockScroll:!1,onClick:u,onClosed:g,"onUpdate:show":d},(0,r.ei)(e,k)),{default:function(){return[(t=e.icon,n=e.type,r=e.iconSize,a=e.iconPrefix,i=e.loadingType,t||"success"===n||"fail"===n?(0,o.createVNode)(p.J,{name:t||n,size:r,class:x("icon"),classPrefix:a},null):"loading"===n?(0,o.createVNode)(v.g,{class:x("loading"),size:r,type:i},null):void 0),h()];var t,n,r,a,i}})}}}),C={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1},N=[],V=!1,E=(0,r.l7)({},C),S=new Map;function _(e){return(0,a.Kn)(e)?e:{message:e}}function B(){if(!N.length||V){var e=function(){var e=(0,l.H)({setup:function(){var e=(0,o.ref)(""),r=(0,l.o)(),a=r.open,i=r.state,s=r.close,c=r.toggle,d=function(){V&&(N=N.filter((function(e){return e!==t})),n())};return(0,o.watch)(e,(function(e){i.message=e})),(0,o.getCurrentInstance)().render=function(){var e={onClosed:d,"onUpdate:show":c};return(0,o.createVNode)(b,(0,o.mergeProps)(i,e),null)},{open:a,clear:s,message:e}}}),t=e.instance,n=e.unmount;return t}();N.push(e)}return N[N.length-1]}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!r._f)return{};var t=B(),n=_(e);return t.open((0,r.l7)({},E,S.get(n.type||E.type),n)),t}var O=function(e){return function(t){return D((0,r.l7)({type:e},_(t)))}};D.loading=O("loading"),D.success=O("success"),D.fail=O("fail"),D.clear=function(e){var t;N.length&&(e?(N.forEach((function(e){e.clear()})),N=[]):V?null==(t=N.shift())||t.clear():N[0].clear())},D.setDefaultOptions=function(e,t){"string"==typeof e?S.set(e,t):(0,r.l7)(E,e)},D.resetDefaultOptions=function(e){"string"==typeof e?S.delete(e):(E=(0,r.l7)({},C),S.clear())},D.allowMultiple=function(){V=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},D.install=function(e){e.use((0,i.n)(b)),e.config.globalProperties.$toast=D}},75883:(e,t,n)=>{"use strict";n.r(t)},98205:(e,t,n)=>{"use strict";n.r(t)},77140:e=>{e.exports="object"==typeof self?self.FormData:window.FormData},3147:(e,t,n)=>{n(89170),n(75883)},15807:(e,t,n)=>{n(89170),n(73864),n(85223),n(59772),n(98506),n(67426),n(98205)},72900:(e,t,n)=>{"use strict";function o(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function r(e){let t;if("object"!=typeof e)t=e;else if("null"===o(e)||"undefined"===o(e))t=e;else if("array"===o(e)){let n;t=[];const o=e.length;for(n=0;n<o;n++)t.push(e[n])}else if("object"===o(e)){t={};for(let n in e)if(e.hasOwnProperty(n)){const a=e[n];if(a===e)continue;"array"===o(a)||"object"===o(a)?t[n]=r(a):t[n]=a}}else t=e;return t}n.d(t,{Dy:()=>a,Jh:()=>i,Oh:()=>c,d9:()=>r,ds:()=>s,p:()=>l,p6:()=>d});function a(e){let t=0,n="当前密码只包含",o={flag:!1,message:""};return/\s/.test(e)?(o.message="密码不支持空格",o):/[\u4e00-\u9fa5]+/.test(e)?(o.message="密码不支持中文",o):e.length<8||e.length>20?(o.message="密码长度需要在 8-20 位之间",o):(/([a-z])+/.test(e)&&(n+="小写字母 ",t++),/([A-Z])+/.test(e)&&(n+="大写字母 ",t++),/(\d)+/.test(e)&&(n+="数字 ",t++),/[!"#\$%&'\(\)\*\+,-\.\/:;<=>\?@\[\\\]\^_`\{\|\}~]/.test(e)&&(n+="特殊字符 ",t++),t<3?o.message=n:(o.flag=!0,o.message=""),o)}function i(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.trim())}function l(e){return/1\d{10}/g.test(e.trim())}function s(e){return/^((25[0-5]|2[0-4]\d|[1]{1}\d{1}\d{1}|[1-9]{1}\d{1}|\d{1})($|(?!\.$)\.)){4}$/.test(e)}function c(e){let t=e.split(":"),n=0,o="";if(t.length>2)n=Number(t.pop()),o=t.join(":");else{if(2!==t.length)throw new Error("无法解析服务器地址");o=t[0],n=Number(t[1])}return{host:o,port:n}}function d(e,t="yyyy-MM-dd",n="--"){if(!e)return n;let o=new Date(e);if(e=e+60*o.getTimezoneOffset()*1e3- -288e5,o.setTime(e),"Invalid Date"===o.toString())return n;let r={"M+":o.getMonth()+1,"d+":o.getDate(),"h+":o.getHours(),"m+":o.getMinutes(),"s+":o.getSeconds(),"q+":Math.floor((o.getMonth()+3)/3),S:o.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(o.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in r)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?r[e]:("00"+r[e]).substr((""+r[e]).length)));return t}},35950:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>H});var o=n(89810),r=n(65431),a=n(17999),i=n(10111);const l=e=>((0,o.pushScopeId)("data-v-3b39b70c"),e=e(),(0,o.popScopeId)(),e),s={class:"configContainer"},c=l((()=>(0,o.createElementVNode)("div",{class:"topic my-4 grey--text text--darken-4"},"配置信息",-1))),d={class:"detail d-flex justify-space-between align-center"},u={class:"cpu item light-blue--text text--darken-1"},f=l((()=>(0,o.createElementVNode)("i",{class:"iconfont icon-cpu fs-24"},null,-1))),p={class:"fs-12 grey--text text--darken-2 mt-2"},m={class:"memory item light-blue--text text--darken-1"},v=l((()=>(0,o.createElementVNode)("i",{class:"iconfont icon-processor fs-24"},null,-1))),g={class:"fs-12 grey--text text--darken-2 mt-2"},h={class:"disk item light-blue--text text--darken-1"},y=l((()=>(0,o.createElementVNode)("i",{class:"iconfont icon-system-disk fs-24"},null,-1))),x={class:"fs-12 grey--text text--darken-2 mt-2"},k=(0,o.defineComponent)({__name:"configInfo",setup(e){const t=(0,i.l)(),{configData:n,loadingConfig:a,currentDesktop:l}=(0,r.Jk)(t);return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",s,[c,(0,o.createElementVNode)("div",d,[(0,o.createElementVNode)("div",u,[f,(0,o.createElementVNode)("p",p,(0,o.toDisplayString)((0,o.unref)(n).cpuCore||"--")+"核处理器",1)]),(0,o.createElementVNode)("div",m,[v,(0,o.createElementVNode)("p",g,(0,o.toDisplayString)((0,o.unref)(n).memoryGB||"--")+"G内存",1)]),(0,o.createElementVNode)("div",h,[y,(0,o.createElementVNode)("p",x,(0,o.toDisplayString)((0,o.unref)(n).dataDiskGB||"--")+"GB存储",1)])])]))}});var w=n(57775);const b=(0,w.Z)(k,[["__scopeId","data-v-3b39b70c"]]);var C=n(61273),N=n(64566),V=(n(94684),n(15807),n(48402)),E=n(55304),S=function(e,t,n,o){return new(n||(n=Promise))((function(r,a){function i(e){try{s(o.next(e))}catch(e){a(e)}}function l(e){try{s(o.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}s((o=o.apply(e,t||[])).next())}))};const _={class:"px-4 py-8"},B=(0,o.defineComponent)({__name:"dialogEditName",setup(e,{expose:t}){const n=V.nC.get(E.hD),l=(0,i.l)(),{configData:s}=(0,r.Jk)(l),c=C.V.Component,d=(0,a.yj)(),u=(0,o.ref)(""),f=(0,o.ref)(!1),p=(0,o.ref)(!1);function m(e){return new Promise((t=>S(this,void 0,void 0,(function*(){if("confirm"===e)if(u.value){f.value=!0;const e={desktopId:d.query.id,nickName:u.value};try{yield n.rename(e),f.value=!1,N.F.success("修改成功"),l.getDesktopConfig(),t(!0)}catch(e){f.value=!1,N.F.fail(e.message),t(!1)}finally{t(!0)}}else N.F.fail("请输入名称"),t(!1);else t(!0)}))))}return(0,o.watch)(p,(e=>{e&&(u.value=s.value.desktopName)})),t({visible:p}),(e,t)=>{const n=(0,o.resolveComponent)("el-input");return(0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(c),{show:p.value,"onUpdate:show":t[1]||(t[1]=e=>p.value=e),title:"修改名称","show-cancel-button":"","close-on-click-overlay":!1,"before-close":m},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("div",_,[(0,o.createVNode)(n,{modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=e=>u.value=e),maxlength:"15","show-word-limit":"",disabled:f.value},null,8,["modelValue","disabled"])])])),_:1},8,["show"])}}}),D=B,O={class:"editNameContainer d-flex align-center pa-4"},I=(j=()=>(0,o.createElementVNode)("i",{class:"cloudphonefont icon-cellphone fs-36 white--text mr-2"},null,-1),(0,o.pushScopeId)("data-v-53c2cadd"),j=j(),(0,o.popScopeId)(),j);var j;const M={class:"white--text fs-16 mb-2"},Z={class:"fs-12 white--text"},T=(0,o.defineComponent)({__name:"editName",setup(e){const t=(0,i.l)(),{configData:n}=(0,r.Jk)(t),l=(0,a.yj)(),s=(0,o.ref)(null);function c(){s.value&&(s.value.visible=!0)}return(e,t)=>((0,o.openBlock)(),(0,o.createElementBlock)("div",O,[I,(0,o.createElementVNode)("div",null,[(0,o.createElementVNode)("div",M,[(0,o.createTextVNode)((0,o.toDisplayString)((0,o.unref)(n).desktopName)+" ",1),(0,o.createElementVNode)("i",{class:"ml-2 cloudphonefont icon-square-edit-outline fs-18 pointer",onClick:c})]),(0,o.createElementVNode)("div",Z,(0,o.toDisplayString)((0,o.unref)(l).query.code),1)]),(0,o.createVNode)(D,{ref_key:"editRef",ref:s},null,512)]))}}),z=(0,w.Z)(T,[["__scopeId","data-v-53c2cadd"]]),P={class:"errorContainer d-flex flex-column align-center py-10 justify-center"},L={class:"my-4"},$=(0,o.defineComponent)({__name:"error",props:{msg:{default:"",type:String}},emits:["callback"],setup(e,{emit:t}){const r=n(77236);function a(){t("callback")}return(t,n)=>{const i=(0,o.resolveComponent)("el-image"),l=(0,o.resolveComponent)("el-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",P,[(0,o.createVNode)(i,{src:(0,o.unref)(r),style:{width:"200px"}},null,8,["src"]),(0,o.createElementVNode)("div",L,(0,o.toDisplayString)(e.msg),1),(0,o.createVNode)(l,{type:"primary",onClick:a},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("刷新")])),_:1})])}}}),F=(0,w.Z)($,[["__scopeId","data-v-167bdf9f"]]);var q=n(60685);const R={class:"managementContainer"},U={class:"fill-width white pa-8",style:{"box-sizing":"border-box"}},J=(e=>((0,o.pushScopeId)("data-v-3dda4560"),e=e(),(0,o.popScopeId)(),e))((()=>(0,o.createElementVNode)("div",{class:"tips fs-12 mt-10 grey--text text--lighten-1"},"如需调整配置请联系管理员",-1))),A={class:"ma-4 border-box"},G=(0,o.defineComponent)({__name:"PhoneManagement",setup(e){const t=(0,i.l)(),{errorConfig:n,msgConfig:l}=(0,r.Jk)(t),s=(0,a.tv)();function c(){window.history.state?window.history.go(-1):s.replace({name:"phone_home",query:{module:"phone"}})}function d(){t.reboot()}return(0,o.onMounted)((()=>{t.getDesktopConfig()})),(e,r)=>{const a=(0,o.resolveComponent)("el-button");return(0,o.openBlock)(),(0,o.createElementBlock)("div",R,[(0,o.createVNode)(q.Z,{title:"云手机管理",onBack:c}),(0,o.unref)(n)?((0,o.openBlock)(),(0,o.createBlock)(F,{key:0,msg:(0,o.unref)(l),onCallback:r[0]||(r[0]=e=>(0,o.unref)(t).getDesktopConfig())},null,8,["msg"])):((0,o.openBlock)(),(0,o.createElementBlock)(o.Fragment,{key:1},[(0,o.createElementVNode)("div",U,[(0,o.createVNode)(z,{class:"mb-8 mt-2"}),(0,o.createVNode)(b),J]),(0,o.createElementVNode)("div",A,[(0,o.createVNode)(a,{size:"large",block:"",type:"primary",onClick:d},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("重启")])),_:1})])],64))])}}}),H=(0,w.Z)(G,[["__scopeId","data-v-3dda4560"]])},60685:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var o=n(89810),r=n(5415),a=n(17999),i=n(52704);n(3147);const l={class:"d-flex justify-space-between align-center white pa-4"},s={class:"fs-18 grey--text text--darken-4"},c=(d=()=>(0,o.createElementVNode)("div",null,null,-1),(0,o.pushScopeId)("data-v-86040814"),d=d(),(0,o.popScopeId)(),d);var d;const u=(0,o.defineComponent)({__name:"header",props:{title:{default:"",type:String}},setup(e){const t=(0,a.tv)(),n=(0,o.useAttrs)();function d(){n.onBack?n.onBack():window.history.state?window.history.go(-1):t.replace({name:"phone_home",query:{module:"phone"}})}return(t,n)=>{const a=(0,o.resolveComponent)("el-icon");return(0,o.openBlock)(),(0,o.createBlock)((0,o.unref)(i.L),{class:"fill-width"},{default:(0,o.withCtx)((()=>[(0,o.createElementVNode)("header",l,[(0,o.createVNode)(a,{class:"pointer iconBack",onClick:d},{default:(0,o.withCtx)((()=>[(0,o.createVNode)((0,o.unref)(r.Z))])),_:1}),(0,o.createElementVNode)("div",s,(0,o.toDisplayString)(e.title),1),c])])),_:1})}}});const f=(0,n(57775).Z)(u,[["__scopeId","data-v-86040814"]])},77236:(e,t,n)=>{"use strict";e.exports=n.p+"imgs/network-error.18b1a4.png"}}]);