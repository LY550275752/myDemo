"use strict";(self.webpackChunkclink_web=self.webpackChunkclink_web||[]).push([[4133,31,8897],{11210:(e,t,o)=>{o.d(t,{Z:()=>l});var a=o(48402),n=o(6522);function l(){return a.nC.get(n.Xb)}},12773:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var a=o(89810),n=o(51882),l=o(11210);const r={key:0},c={key:1,class:"d-flex align-center"},i=["href"],d=(0,a.defineComponent)({__name:"formItemFile",props:{item:{default:()=>({}),type:Object,required:!0}},setup(e){const t=e,o=((0,n.Z)(),(0,l.Z)()),d=(0,a.computed)((()=>t.item));function s(e){return`${o.getAPIHost()}/api/v2/client/downloadWsheetFile?attachName=${encodeURIComponent(e.attachName)}&attachAddress=${encodeURIComponent(e.attachAddress)}`}return(e,t)=>{const o=(0,a.resolveComponent)("Link"),n=(0,a.resolveComponent)("el-icon"),l=(0,a.resolveComponent)("el-form-item");return(0,a.openBlock)(),(0,a.createBlock)(l,{label:"附件:"},{default:(0,a.withCtx)((()=>[(0,a.unref)(d).wsheetAttachList?((0,a.openBlock)(),(0,a.createElementBlock)("div",c,[((0,a.openBlock)(!0),(0,a.createElementBlock)(a.Fragment,null,(0,a.renderList)((0,a.unref)(d).wsheetAttachList,((e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",{class:"pic",key:t},[(0,a.createVNode)(n,null,{default:(0,a.withCtx)((()=>[(0,a.createVNode)(o)])),_:1}),(0,a.createElementVNode)("a",{href:s(e),download:"file",target:"_blank"},(0,a.toDisplayString)(e.attachName),9,i)])))),128))])):((0,a.openBlock)(),(0,a.createElementBlock)("div",r,"无"))])),_:1})}}});const s=(0,o(57775).Z)(d,[["__scopeId","data-v-302710b0"]])},40184:(e,t,o)=>{o.r(t),o.d(t,{default:()=>s});var a=o(89810),n=o(81527),l=o(66464),r=o(55087),c=o(88533);const i={class:"history"},d=(0,a.defineComponent)({__name:"history",setup(e){const t=(0,a.ref)("list"),o=(0,a.ref)(null);(0,a.provide)("detail",o);const d=(0,a.inject)("tab"),s=(0,a.ref)("list"),u=(0,a.inject)("$dialogHelper"),f=(0,a.computed)((()=>"list"===t.value)),m=(0,a.computed)((()=>"detail"===t.value)),p=(0,a.computed)((()=>"feedback"===t.value));return(0,a.watch)(d,(e=>{t.value="list"})),(0,c.pv)({"change-report-page":function({to:e,data:a,redirect:n}){t.value=e,a&&(o.value=a),n&&(s.value=n),u.config({onBack:!1})}}),(e,t)=>((0,a.openBlock)(),(0,a.createElementBlock)("div",i,[(0,a.withDirectives)((0,a.createVNode)(n.default,null,null,512),[[a.vShow,(0,a.unref)(f)]]),(0,a.unref)(m)?((0,a.openBlock)(),(0,a.createBlock)(l.default,{key:0})):(0,a.createCommentVNode)("",!0),(0,a.unref)(p)?((0,a.openBlock)(),(0,a.createBlock)(r.default,{key:1,source:o.value,comefrom:s.value},null,8,["source","comefrom"])):(0,a.createCommentVNode)("",!0)]))}});const s=(0,o(57775).Z)(d,[["__scopeId","data-v-671dfa78"]])},66464:(e,t,o)=>{o.r(t),o.d(t,{default:()=>y});var a=o(89810),n=o(52134),l=o(48402),r=o(88538);var c=o(11210),i=o(51882),d=o(86631),s=o(12773),u=o(88533),f=o(5341),m=function(e,t,o,a){return new(o||(o=Promise))((function(n,l){function r(e){try{i(a.next(e))}catch(e){l(e)}}function c(e){try{i(a.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(r,c)}i((a=a.apply(e,t||[])).next())}))};const p={class:"reportDetail"},v={class:"detailContent"},h={key:1,class:"divide-height-10"},k={class:"d-flex align-center"},N={key:0,style:{display:"flex","align-items":"center","margin-left":"32px"}},b={class:"badge",style:{}},g={style:{color:"#3c3c3c","font-size":"12px"}},w=(0,a.defineComponent)({__name:"reportDetail",setup(e){const t=(0,f.mL)(),o=((0,d.Z)(),l.nC.get(r.cf),(0,i.Z)(),(0,c.Z)()),w=(0,a.inject)("detail"),y=(0,a.inject)("$filter"),C=((0,a.inject)("$message"),(0,a.inject)("$dialogHelper")),V=(0,a.computed)((()=>w.value?w.value.workSheetVO:null)),x=(0,a.computed)((()=>V.value&&V.value.wsheetSubtypeId?n.Mx[n.Y5[V.value.wsheetSubtypeId]]:"")),_=((0,a.ref)(0),(0,a.ref)(0),(0,a.ref)(["","非常不满意","不满意","一般","满意","非常满意"]),(0,a.ref)([]),(0,a.ref)(""));(0,a.ref)("");function B(){u.$x.emit("change-report-page",{to:"list"})}function S(){u.$x.emit("change-report-page",{to:"feedback",data:w.value,redirect:"detail"})}return(0,a.onMounted)((()=>m(this,void 0,void 0,(function*(){_.value=yield o.getAPIHost(),C.config({onBack:B})})))),(e,o)=>{const n=(0,a.resolveComponent)("el-form-item"),l=(0,a.resolveComponent)("el-divider"),r=(0,a.resolveComponent)("el-button"),c=(0,a.resolveComponent)("el-form");return(0,a.openBlock)(),(0,a.createElementBlock)("div",p,[(0,a.createElementVNode)("div",v,[(0,a.createVNode)(c,{"label-width":"90px","label-position":"left"},{default:(0,a.withCtx)((()=>[(0,a.createVNode)(n,{label:"状态:"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("span",{style:(0,a.normalizeStyle)({color:(0,a.unref)(y).formatStatus((0,a.unref)(V).status,"color")})},(0,a.toDisplayString)((0,a.unref)(y).formatStatus((0,a.unref)(V).status,"report")),5)])),_:1}),(0,a.unref)(V).wsheetObjName?((0,a.openBlock)(),(0,a.createBlock)(n,{key:0,label:"故障云电脑:"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(V).wsheetObjName),1)])),_:1})):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(n,{label:"故障类型:"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(x)),1)])),_:1}),(0,a.createVNode)(n,{label:"故障描述:",class:"form-item-description"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(V).wsheetDesc),1)])),_:1}),(0,a.createVNode)(s.default,{item:(0,a.unref)(w),class:"item-border-bottom-none"},null,8,["item"]),(0,a.unref)(t)?((0,a.openBlock)(),(0,a.createElementBlock)("div",h)):(0,a.createCommentVNode)("",!0),(0,a.createVNode)(n,{label:"联系人:"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(V).contactName),1)])),_:1}),(0,a.createVNode)(n,{label:"联系电话:"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(V).mobilePhone),1)])),_:1}),(0,a.createVNode)(n,{label:"邮箱:"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(V).emails),1)])),_:1}),(0,a.createVNode)(n,{label:"创建时间:",class:"item-border-bottom-none"},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)((0,a.toDisplayString)((0,a.unref)(y).formatTime((0,a.unref)(V).createdTime)),1)])),_:1}),(0,a.createVNode)(l),(0,a.createVNode)(n,{label:"报障反馈:",class:"item-border-bottom-none"},{default:(0,a.withCtx)((()=>[(0,a.createElementVNode)("div",k,[(0,a.createVNode)(r,{type:"primary",onClick:S},{default:(0,a.withCtx)((()=>[(0,a.createTextVNode)("查看")])),_:1}),(0,a.unref)(V).newMsgNum>0?((0,a.openBlock)(),(0,a.createElementBlock)("div",N,[(0,a.createElementVNode)("div",b,(0,a.toDisplayString)((0,a.unref)(V).newMsgNum),1),(0,a.createElementVNode)("span",g,"您有"+(0,a.toDisplayString)((0,a.unref)(V).newMsgNum)+"新消息",1)])):(0,a.createCommentVNode)("",!0)])])),_:1})])),_:1})])])}}});const y=(0,o(57775).Z)(w,[["__scopeId","data-v-90e800ba"]])}}]);