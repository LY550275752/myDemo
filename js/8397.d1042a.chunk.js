"use strict";(self.webpackChunkclink_web=self.webpackChunkclink_web||[]).push([[8397,7896,6765],{29262:(e,t,n)=>{n.r(t),n.d(t,{default:()=>k});var c=n(89810),o=n(35247),r=n(48402),a=n(46765),l=n(4248),i=n(73827),s=n(55304),u=n(88533),d=function(e,t,n,c){return new(n||(n=Promise))((function(o,r){function a(e){try{i(c.next(e))}catch(e){r(e)}}function l(e){try{i(c.throw(e))}catch(e){r(e)}}function i(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,l)}i((c=c.apply(e,t||[])).next())}))};const p={class:"secure-center"},f={key:0,class:"secure-center-excep"},m={class:"secure-center-excep-number"},k=(0,c.defineComponent)({__name:"SecureCenter",setup(e){const t=(0,c.inject)("$dialog"),n=r.nC.get(s.hD),k=r.nC.get(o.bL),v=(0,c.ref)(0);function g(e){e.from="SecureCenter",u.$x.emit("toggle",{type:"LogDetail",data:e})}return(0,c.onMounted)((()=>{var e=t.getCurrentDialogId();(0,c.nextTick)((()=>{t.config(e,{title:"安全中心",showClose:!0,onBack:!1,extendSlot:{comp:a.default}})})),function(){d(this,void 0,void 0,(function*(){if(n.connection.desktop.desktopId)try{v.value=yield k.getExcepLogCounts(n.connection.desktop.desktopId)}catch(e){i.z8.error("获取异常登录列表失败")}}))}()})),(0,u.pv)({[u.eM.OPEN_DEVICE_MANAGE]:()=>{u.$x.emit("toggle",{type:"DeviceManage"})}}),(e,t)=>{const n=(0,c.resolveComponent)("WarningFilled"),o=(0,c.resolveComponent)("el-icon");return(0,c.openBlock)(),(0,c.createElementBlock)("div",p,[v.value>0?((0,c.openBlock)(),(0,c.createElementBlock)("div",f,[(0,c.createVNode)(o,{class:"secure-center-excep-waring"},{default:(0,c.withCtx)((()=>[(0,c.createVNode)(n)])),_:1}),(0,c.createTextVNode)(" 有"),(0,c.createElementVNode)("span",m,(0,c.toDisplayString)(v.value),1),(0,c.createTextVNode)("条异常登录记录，为避免安全风险 "),(0,c.createElementVNode)("span",{class:"secure-center-excep-deal",onClick:t[0]||(t[0]=e=>{return t="ExcepLog",void u.$x.emit("toggle",{type:t});var t})},"立即处理")])):(0,c.createCommentVNode)("",!0),(0,c.createVNode)(l.default,{class:(0,c.normalizeClass)({"log-list-comp":!!v.value}),onClick:g,filter:""},null,8,["class"])])}}})},46765:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var c=n(89810),o=n(88533);const r=(0,c.defineComponent)({__name:"SecureHeader",setup(e){function t(){o.$x.emit(o.eM.OPEN_DEVICE_MANAGE)}return(e,n)=>((0,c.openBlock)(),(0,c.createElementBlock)("div",{class:"header-btn",onClick:t},"设备管理"))}});const a=(0,n(57775).Z)(r,[["__scopeId","data-v-41e20c76"]])}}]);