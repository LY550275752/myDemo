"use strict";(self.webpackChunkclink_web=self.webpackChunkclink_web||[]).push([[9680],{79680:(e,n,t)=>{t.r(n),t.d(n,{default:()=>g});var o=t(89810),a=t(60364),c=t(48402),i=t(19816),l=function(e,n,t,o){return new(t||(t=Promise))((function(a,c){function i(e){try{r(o.next(e))}catch(e){c(e)}}function l(e){try{r(o.throw(e))}catch(e){c(e)}}function r(e){var n;e.done?a(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(i,l)}r((o=o.apply(e,n||[])).next())}))};const r={key:0,class:"announcement"},s={class:"announcement-box"},u={key:0,class:"announcement-box-title"},d={class:"announcement-box-time"},m={key:1,class:"announcement-box-content"},v={key:0,class:"announcement-footer"},f=(0,o.defineComponent)({__name:"messageDetail",setup(e){const n=(0,o.inject)("$options"),t=c.nC.get(a.v),f=(0,o.inject)("$dialog");var g=(0,o.ref)(!1),p=(0,o.computed)((()=>n.params.data)),k=(0,o.computed)((()=>!g.value));function y(){return l(this,void 0,void 0,(function*(){i.k.info("[messgae]不再提醒",p.value.msgId),yield t.toReadMessage(p.value.msgId+""),yield t.saveIgnoredMsgId(p.value.msgId);var e=f.getCurrentDialogId();f.close(e)}))}return(0,o.onMounted)((()=>l(this,void 0,void 0,(function*(){i.k.info("message-detail",p.value.msgId),g.value=yield t.getIsIgnored(p.value.msgId),(0,o.nextTick)((()=>{var e=f.getCurrentDialogId();f.config(e,{title:"详情"})}))})))),(e,n)=>{const a=(0,o.resolveComponent)("el-button");return null!==(0,o.unref)(p)?((0,o.openBlock)(),(0,o.createElementBlock)("div",r,[(0,o.createElementVNode)("div",s,[(0,o.unref)(p).title?((0,o.openBlock)(),(0,o.createElementBlock)("div",u,(0,o.toDisplayString)((0,o.unref)(p).title),1)):(0,o.createCommentVNode)("",!0),(0,o.createElementVNode)("div",d,(0,o.toDisplayString)((c=(0,o.unref)(p).validTime,t.formatTime(c))),1),(0,o.unref)(p).content?((0,o.openBlock)(),(0,o.createElementBlock)("div",m,(0,o.toDisplayString)((0,o.unref)(p).content),1)):(0,o.createCommentVNode)("",!0)]),(0,o.unref)(k)?((0,o.openBlock)(),(0,o.createElementBlock)("div",v,[(0,o.createVNode)(a,{size:"medium",type:"primary",onClick:y,plain:""},{default:(0,o.withCtx)((()=>[(0,o.createTextVNode)("不再提示")])),_:1})])):(0,o.createCommentVNode)("",!0)])):(0,o.createCommentVNode)("",!0);var c}}});const g=(0,t(57775).Z)(f,[["__scopeId","data-v-36798caf"]])}}]);